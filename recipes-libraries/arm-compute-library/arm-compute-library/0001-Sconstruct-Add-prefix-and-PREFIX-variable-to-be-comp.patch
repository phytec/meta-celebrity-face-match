From f7af07a7bd23f16c32e316d1e4c009d3339a151c Mon Sep 17 00:00:00 2001
From: Steffen Hemer <s.hemer@phytec.de>
Date: Thu, 7 Mar 2024 18:21:54 +0100
Subject: [PATCH] Sconstruct: Add prefix and PREFIX variable to be compatible
 with poky scons class

do_configure step (and do_compile but this is overriden meta_imx recipe)
uses prefix and PREFIX as part of the scons call. This causes an error
if the Sconstruct script does not have them defined. So define them but
do not use them fixes the build.

Signed-off-by: Steffen Hemer <s.hemer@phytec.de>
---
 SConstruct | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

diff --git a/SConstruct b/SConstruct
index 68c518a4a0..f06c7e75a2 100644
--- a/SConstruct
+++ b/SConstruct
@@ -138,7 +138,9 @@ vars.AddVariables(
     ("extra_link_flags", "Extra LD flags to be appended to the build command", ""),
     ("compiler_cache", "Command to prefix to the C and C++ compiler (e.g ccache)", ""),
     ("specs_file", "Specs file to use (e.g. rdimon.specs)", ""),
-    ("build_config", "Operator/Data-type/Data-layout configuration to use for tailored ComputeLibrary builds. Can be a JSON file or a JSON formatted string", "")
+    ("build_config", "Operator/Data-type/Data-layout configuration to use for tailored ComputeLibrary builds. Can be a JSON file or a JSON formatted string", ""),
+	("prefix", ""),
+	("PREFIX", "")
 )
 
 if version_at_least(SCons.__version__, "4.0"):
